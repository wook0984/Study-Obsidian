# 자바의 정석 객체지향프로그래밍 (1)

## 클래스와 객체

### 2.1 클래스와 객체의 정의와 용도

- **클래스(Class)**: 객체를 정의해놓은 설계도 또는 틀
- **객체(Object)**: 실제로 존재하는 것, 클래스에 정의된 내용대로 메모리에 생성된 것

### 2.2 객체와 인스턴스

- **객체**: 일반적인 용어
- **인스턴스**: 특정 클래스로부터 생성된 객체 (예: "TV인스턴스"는 "TV클래스의 객체"를 의미)
- 객체와 인스턴스는 같은 의미이지만, 인스턴스는 객체에 클래스를 강조한 표현

### 2.3 객체의 구성요소 - 속성과 기능

- **속성(property)**: 멤버변수, 특성, 필드, 상태
- **기능(function)**: 메서드, 함수, 행위

Java

```
class TV {
    // 속성(멤버변수)
    String color;    // 색상
    boolean power;   // 전원상태
    int channel;     // 채널
    
    // 기능(메서드)
    void power() { power = !power; }
    void channelUp() { channel++; }
    void channelDown() { channel--; }
}
```

### 2.4 인스턴스의 생성과 사용

Java

```
TV tv = new TV();  // TV클래스의 인스턴스 생성
tv.channel = 7;    // TV인스턴스의 멤버변수 channel의 값을 7로 설정
tv.channelDown();  // TV인스턴스의 메서드 channelDown()을 호출
```

## 변수의 유효 범위

### 3.1 선언위치에 따른 변수의 종류

Java

```
class Variables {
    int iv;              // 인스턴스 변수
    static int cv;       // 클래스 변수(static변수, 공유변수)
    
    void method() {
        int lv = 0;      // 지역변수
    }
}
```

- **인스턴스 변수(instance variable)**: 클래스 내부, 메서드 외부에 선언. 인스턴스 생성시 생성되고 인스턴스가 소멸될 때 소멸
- **클래스 변수(class variable)**: 인스턴스 변수 앞에 static 붙임. 클래스가 메모리에 로드될 때 생성되고 프로그램이 종료될 때 소멸
- **지역 변수(local variable)**: 메서드 내에 선언. 메서드가 실행될 때 생성되고 메서드가 종료될 때 소멸

### 3.2 클래스 변수와 인스턴스 변수

- **클래스 변수**: 모든 인스턴스가 공통된 값을 가질 때 사용. 클래스이름.변수명으로 접근
- **인스턴스 변수**: 인스턴스마다 고유한 값을 가져야 할 때 사용. 참조변수.변수명으로 접근

## this와 this()

### 5.4 생성자에서 다른 생성자 호출하기 - this(), this

- **this**: 인스턴스 자신을 가리키는 참조변수. 인스턴스의 주소가 저장되어 있음
- **this()**: 같은 클래스의 다른 생성자를 호출할 때 사용

Java

```
class Car {
    String color;
    String gearType;
    int door;
    
    Car() {
        this("white", "auto", 4);  // Car(String color, String gearType, int door) 호출
    }
    
    Car(String color) {
        this(color, "auto", 4);
    }
    
    Car(String color, String gearType, int door) {
        this.color = color;       // this.color는 인스턴스 변수, color는 매개변수
        this.gearType = gearType;
        this.door = door;
    }
}
```

## 메서드

### 3.3 메서드

- **메서드(method)**: 특정 작업을 수행하는 일련의 문장들을 하나로 묶은 것

### 3.4 메서드의 선언과 구현

Java

```
반환타입 메서드이름(매개변수선언, ...) {
    // 메서드 호출 시 수행될 코드
    return 반환값;  // 반환타입이 void가 아닌 경우 필수
}
```

### 3.5 메서드의 호출

Java

```
메서드이름(값1, 값2, ...);  // 메서드 호출
```

### 3.8 기본형 매개변수와 참조형 매개변수

- **기본형 매개변수**: 변수의 값을 읽기만 할 수 있음(read only)
- **참조형 매개변수**: 변수의 값을 읽고 변경할 수 있음(read & write)

### 3.10 재귀 호출(recursive call)

- 메서드 내부에서 자기 자신을 다시 호출하는 것

Java

```
int factorial(int n) {
    if(n <= 1) return 1;
    return n * factorial(n-1);
}
```

### 3.11 클래스 메서드와 인스턴스 메서드

- **클래스 메서드(static메서드)**: 인스턴스 생성 없이 클래스이름.메서드이름()으로 호출 가능
- **인스턴스 메서드**: 인스턴스 생성 후 참조변수.메서드이름()으로 호출 가능

## 생성자

### 5.1 생성자란?

- **생성자(constructor)**: 인스턴스가 생성될 때 호출되는 '인스턴스 초기화 메서드'
- 이름이 클래스 이름과 같아야 함
- 리턴값이 없음 (void 표시 안함)

### 5.2 기본 생성자(default constructor)

- 매개변수가 없는 생성자
- 클래스에 생성자가 하나도 없으면 컴파일러가 자동으로 추가

Java

```
class Data {
    int value;
    // 컴파일러가 자동으로 추가해주는 기본 생성자
    // Data() {}
}
```

### 5.3 매개변수가 있는 생성자

Java

```
class Car {
    String color;
    String gearType;
    int door;
    
    Car(String c, String g, int d) {
        color = c;
        gearType = g;
        door = d;
    }
}

Car c = new Car("white", "auto", 4);
```

## static

### 3.11 클래스 메서드와 인스턴스 메서드

- **static 메서드**:
    - 인스턴스 생성 없이 호출 가능
    - 인스턴스 멤버 사용 불가
    - 객체지향적이지 않은 메서드에 적합

Java

```
class MyMath {
    static int add(int a, int b) { return a + b; }       // 클래스 메서드
    int multiply(int a, int b) { return a * b; }         // 인스턴스 메서드
}

// 호출 방법
int result1 = MyMath.add(3, 5);                // 클래스 메서드 호출
MyMath mm = new MyMath();                      // 인스턴스 생성
int result2 = mm.multiply(3, 5);               // 인스턴스 메서드 호출
```

### 3.12 클래스 멤버와 인스턴스 멤버 간의 참조와 호출

- 클래스 멤버(static 멤버)는 인스턴스 멤버를 직접 사용할 수 없음
- 인스턴스 멤버는 클래스 멤버를 사용할 수 있음

## 참조변수

### 3.8 기본형 매개변수와 참조형 매개변수

- **참조형 매개변수**: 메서드 호출 시 전달받은 참조변수의 주소값을 복사
- 메서드 내에서 참조변수가 가리키는 객체의 값을 변경할 수 있음

Java

```
class Data {
    int x;
}

class Test {
    void change(Data d) {
        d.x = 1000;  // 참조형 매개변수를 통해 객체의 값을 변경
    }
    
    public static void main(String[] args) {
        Data d = new Data();
        d.x = 10;
        System.out.println("main() : x = " + d.x);  // 10
        
        Test t = new Test();
        t.change(d);
        System.out.println("After change(d)");
        System.out.println("main() : x = " + d.x);  // 1000
    }
}
```

### 3.9 참조형 반환타입

- 메서드가 객체의 주소를 반환

Java

```
class Data {
    int x;
}

class Test {
    Data copy(Data d) {
        Data tmp = new Data();
        tmp.x = d.x;
        return tmp;  // 객체의 주소 반환
    }
}
```